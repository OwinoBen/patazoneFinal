{% load static %}


<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link href="{% static 'assets/global/plugins/simple-line-icons/simple-line-icons.min.css' %}" rel="stylesheet"
      type="text/css"/>
<link href="{% static 'assets/global/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>
<link href="{% static 'assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css' %}" rel="stylesheet"
      type="text/css"/>


<body class="page-container-bg-solid page-header-fixed page-sidebar-closed-hide-logo page-md">
<div class="page-content-wrapper">
    <!-- BEGIN CONTENT BODY -->
    <div class="page-content">
        <div class="row">
                <!-- BEGIN PORTLET-->
                <div class="portlet light bordered">
                    <div class="portlet-body">

                        <div class="modal fade" id="basic" tabindex="-1" role="basic" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Modal Title</h4>
                                    </div>
                                    <div class="modal-body"> Modal body goes here</div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn dark btn-outline" data-dismiss="modal">Close
                                        </button>
                                        <button type="button" class="btn green">Save changes</button>
                                    </div>
                                </div>
                                <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                        </div>
                        <!-- /.modal -->
                        <div class="modal fade" id="full" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog modal-full">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Modal Title</h4>
                                    </div>
                                    <div class="modal-body"> Modal body goes here</div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn dark btn-outline" data-dismiss="modal">Close
                                        </button>
                                        <button type="button" class="btn green">Save changes</button>
                                    </div>
                                </div>
                                <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                        </div>
                        <!-- /.modal -->
                        <div class="modal fade bs-modal-lg" id="large" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Modal Title</h4>
                                    </div>
                                    <div class="modal-body">


                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn dark btn-outline" data-dismiss="modal">Close
                                        </button>
                                        <button type="button" class="btn green">Save changes</button>
                                    </div>
                                </div>
                                <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                        </div>
                        <!-- /.modal -->
                        <div class="modal fade bs-modal-sm" id="small" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog modal-sm">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Modal Title</h4>
                                    </div>
                                    <div class="modal-body"> Modal body goes here</div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn dark btn-outline" data-dismiss="modal">Close
                                        </button>
                                        <button type="button" class="btn green">Save changes</button>
                                    </div>
                                </div>
                                <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                        </div>
                        <!-- /.modal -->
                        <div id="responsive" class="modal fade" tabindex="-1" aria-hidden="true">
                            <div class="patazonemodal">
                                <form class="form form-shipping-address" method="post"
                                      action="{% url 'checkout:address' %}" id="co-shipping-form"
                                      style="display: block;">
                                    {% csrf_token %}
                                    <div id="shipping-new-address-form" class="fieldset address">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"
                                                        aria-hidden="true"></button>
                                                <h4 class="modal-title">Add Shipping Address</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="scroller" style="height:300px" data-always-visible="1"
                                                     data-rail-visible1="1">
                                                    <div class="row">


                                                        <div class="col-md-6">

                                                            <div class="field col-mp mp-12 mp-clear required _required"
                                                                 name="shippingAddress.firstname">
                                                                <label><span>First Name</span></label>
                                                                <div class="control">
                                                                    <input class="input-text" type="text"
                                                                           name="firstname"
                                                                           aria-required="true" aria-invalid="false"
                                                                           id="firstname">
                                                                </div>
                                                            </div>
                                                            <div class="field col-mp mp-12 mp-clear required _required"
                                                                 name="shippingAddress.lastname">
                                                                <label><span>Last Name</span>
                                                                </label>
                                                                <div class="control">
                                                                    <input class="input-text" type="text"
                                                                           name="lastname"
                                                                           aria-required="true" aria-invalid="false"
                                                                           id="lastname">
                                                                </div>
                                                            </div>
                                                            <fieldset
                                                                    class="field street col-mp mp-12 mp-clear not-required admin__control-fields required">

                                                                <div class="control">
                                                                    <div class="field _required">
                                                                        <label>
                                                                            <span>Mobile phone number</span>
                                                                        </label>
                                                                        <div class="control">
                                                                            <input class="input-text" type="text"
                                                                                   name="mobilephone1"
                                                                                   id="mobilephone1">
                                                                        </div>
                                                                    </div>
                                                                    <div class="field additional"
                                                                         name="shippingAddress.street.1">
                                                                        <label>
                                                                            <span>Additional phone number (Optional)</span>
                                                                        </label>
                                                                        <div class="control">
                                                                            <input class="input-text" type="text"
                                                                                   name="mobilephone2"
                                                                                   id="mobilephone2">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </fieldset>

                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="field col-mp mp-12 mp-clear not-required"
                                                                 name="shippingAddress.city">
                                                                <label><span>Delivery Address</span></label>
                                                                <div class="control">
                                                                    <input class="input-text" type="text"
                                                                           name="deliveryAddress"
                                                                           id="deliveryAddress">
                                                                </div>
                                                            </div>

                                                            <div class="field col-mp mp-12 mp-clear required _required"
                                                                 name="shippingAddress.region_id">
                                                                <label>
                                                                    <span>State/Region</span>
                                                                </label>
                                                                <div class="control">
                                                                    <select class="select" name="state" id="state"
                                                                            aria-required="true" aria-invalid="false">
                                                                        <option value="">Please select a region, state
                                                                            or province.
                                                                        </option>
                                                                        <option data-title="Mombasa" value="1">
                                                                            Mombasa
                                                                        </option>
                                                                        <option data-title="Kwale" value="2">Kwale
                                                                        </option>
                                                                        <option data-title="Kilifi" value="3">Kilifi
                                                                        </option>
                                                                        <option data-title="Tana River" value="4">Tana
                                                                            River
                                                                        </option>
                                                                        <option data-title="Lamu" value="5">Lamu
                                                                        </option>
                                                                        <option data-title="Taita/Taveta" value="6">
                                                                            Taita/Taveta
                                                                        </option>
                                                                        <option data-title="Garissa" value="7">Garissa
                                                                        </option>
                                                                        <option data-title="Wajir" value="8">Wajir
                                                                        </option>
                                                                        <option data-title="Mandera" value="9">Mandera
                                                                        </option>
                                                                        <option data-title="Marsabit"
                                                                                value="10"></option>
                                                                        <option data-title="Isiolo" value="11">Isiolo
                                                                        </option>
                                                                        <option data-title="Meru" value="12">Meru
                                                                        </option>
                                                                        <option data-title="Tharaka-Nithi" value="13">
                                                                            Tharaka-Nithi
                                                                        </option>
                                                                        <option data-title="Embu" value="14">Embu
                                                                        </option>
                                                                        <option data-title="Kitui" value="15">Kitui
                                                                        </option>
                                                                        <option data-title="Machakos" value="16">
                                                                            Machakos
                                                                        </option>
                                                                        <option data-title="Makueni" value="17">
                                                                            Makueni
                                                                        </option>
                                                                        <option data-title="Nyandarua" value="18">
                                                                            Nyandarua
                                                                        </option>
                                                                        <option data-title="Nyeri" value="19">Nyeri
                                                                        </option>
                                                                        <option data-title="Kirinyaga" value="20">
                                                                            Kirinyaga
                                                                        </option>
                                                                        <option data-title="Murang'a" value="21">
                                                                            Murang'a
                                                                        </option>
                                                                        <option data-title="Kiambu" value="22">Kiambu
                                                                        </option>
                                                                        <option data-title="Turkana" value="23">
                                                                            Turkana
                                                                        </option>
                                                                        <option data-title="West Pokot" value="24">West
                                                                            Pokot
                                                                        </option>
                                                                        <option data-title="Samburu" value="25">
                                                                            Samburu
                                                                        </option>
                                                                        <option data-title="Trans Nzoia" value="26">
                                                                            Trans Nzoia
                                                                        </option>
                                                                        <option data-title="Uasin Gishu" value="27">
                                                                            Uasin Gishu
                                                                        </option>
                                                                        <option data-title="Elgeyo/Marakwet" value="28">
                                                                            Elgeyo/Marakwet
                                                                        </option>
                                                                        <option data-title="Nandi" value="29">Nandi
                                                                        </option>
                                                                        <option data-title="Baringo" value="30">Baringo
                                                                        </option>
                                                                        <option data-title="Laikipia" value="31">
                                                                            Laikipia
                                                                        </option>
                                                                        <option data-title="Nakuru" value="32">Nakuru
                                                                        </option>
                                                                        <option data-title="Narok" value="33">Narok
                                                                        </option>
                                                                        <option data-title="Kajiado" value="34">
                                                                            Kajiado
                                                                        </option>
                                                                        <option data-title="Kericho" value="35">
                                                                            Kericho
                                                                        </option>
                                                                        <option data-title="Bomet" value="36">Bomet
                                                                        </option>
                                                                        <option data-title="Kakamega" value="37">
                                                                            Kakamega
                                                                        </option>
                                                                        <option data-title="Vihiga" value="38">Vihiga
                                                                        </option>
                                                                        <option data-title="Bungoma" value="39">
                                                                            Bungoma
                                                                        </option>
                                                                        <option data-title="Busia" value="40">Busia
                                                                        </option>
                                                                        <option data-title="Siaya" value="41">Siaya
                                                                        </option>
                                                                        <option data-title="Kisumu" value="42">Kisumu
                                                                        </option>
                                                                        <option data-title="Homa Bay" value="43">Homa
                                                                            Bay
                                                                        </option>
                                                                        <option data-title="Migori" value="44">Migori
                                                                        </option>
                                                                        <option data-title="Kisii" value="45">Kisii
                                                                        </option>
                                                                        <option data-title="Nyamira" value="46">
                                                                            Nyamira
                                                                        </option>
                                                                        <option data-title="Nairobi City" value="47">
                                                                            Nairobi City
                                                                        </option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="field col-mp mp-12 mp-clear not-required _required"
                                                                 name="shippingAddress.postcode">
                                                                <label>
                                                                    <span>City</span>
                                                                </label>
                                                                <div class="control">
                                                                    <input class="input-text" type="text" name="city"
                                                                           id="city">
                                                                </div>
                                                            </div>
                                                            <div class="field col-mp mp-12 mp-clear required _required"
                                                                 name="shippingAddress.country_id">
                                                                <label><span>Country</span>
                                                                </label>
                                                                <div class="control">
                                                                    {{ form.shipping_country }}
                                                                </div>
                                                            </div>
                                                            <div class="checkout-billing-address">
                                                                <div class="billing-address-same-as-shipping-block field choice">
                                                                    <input type="checkbox"
                                                                           name="set_default_shipping_address"
                                                                           id="set_default_shipping_address">
                                                                    <label><span>Save as default shipping address</span></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" data-dismiss="modal" class="btn dark btn-outline">
                                                    Close
                                                </button>
                                                <button type="submit" class="btn green">Save changes</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <!--DOC: Aplly "modal-cached" class after "modal" class to enable ajax content caching-->
                        <div class="modal fade" id="ajax" role="basic" aria-hidden="true">
                            <div class="patazonemodal">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <img src="{% static 'assets/global/img/loading-spinner-grey.gif' %}" alt=""
                                             class="loading">
                                        <span> &nbsp;&nbsp;Loading... </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.modal -->
                        <div id="stack1" class="modal fade" tabindex="-1" data-width="400">
                            <div class="patazonemodal">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #1b2732; color: #ffffff; text-align: center">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Mpesa payment</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div id="checkout-step-shipping" class="step-content" data-role="content">
                                    <div class="form form-shipping-address" id="co-shipping-form" style="display: block;">
                                        <div id="shipping-new-address-form" class="fieldset address">
                                            <div class="field col-mp mp-12 mp-clear not-required _required "
                                                        style="margin-top: 80px; text-align: center" >
                                                        <img style="margin-top: 10px " src="{% static 'images/mpesa_icon.png' %}">
                                                        <div class="pay-type-detail">
                                                            <p class="pay-type-detail-notice"
                                                               style=" padding: 20px 70px 0 70px; line-height: 18px;">
                                                                <span style="margin-right: 10px; font-weight:bold;">·</span>Confirm
                                                                phone No. then click <span
                                                                    style="font-weight:bold;color: #06AF98;font-size: 15px">'Proceed'</span>
                                                                to generate payment request to your phone.&nbsp;
                                                            </p>
                                                            <p class="pay-type-detail-notice"
                                                               style=" padding: 10px 70px 0 70px; line-height:18px;">
                                                                <span style="margin-right: 10px; font-weight:  bold;">·</span>
                                                                Enter your <span
                                                                    style="font-weight:bold;color: #06AF98;font-size: 15px">MPESA PIN</span>
                                                                on prompt pop-up on your phone to complete the payment.
                                                            </p>

                                                            <div class="pay-input-box clearfix"
                                                                 style="margin-top:20px;">
                                                                <form method="POST" action="{% url 'mpesa:mpesaApp-about' %}">
                                                                    {% csrf_token %}
                                                                    <div class="fieldset">
                                                                        <div class="field field-email required">
                                                                            <label class="label" for="login-email">
                                                                                <span>Phone Number</span></label>
                                                                            <div class="control">
                                                                                <input type="text" class="input-text" id="PhoneNumber"
                                                                                       name="PhoneNumber" autocomplete="off" placeholder="7xxxxxx" required>
                                                                            </div>
                                                                        </div>
                                                                        <div class="field field-password required">
{#                                                                            <label for="login-password" class="label">#}
{#                                                                                <span>Total Order Amount (Ksh.)</span>#}
{#                                                                            </label>#}
                                                                            <div class="control">
                                                                                <input type="hidden" class="input-text" style="text-align: center; font-weight: bold"
                                                                                       id="Amount" name="Amount" value="{{ order.get_total|floatformat:"0"}}"
                                                                                       autocomplete="off" readonly>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="primary">
                                                                        <button type="submit" class="action action-login secondary">
                                                                            <span>Proceed</span>
                                                                        </button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                        </div>
                                    </div>
                                </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close
                                        </button>
                                        <button type="button" class="btn red">Ok</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="stack2" class="modal fade" tabindex="-1">
                            <div class="patazonemodal">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Stack Two</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Some Input</h4>
                                                <p>
                                                    <input type="text" class="col-md-12 form-control"></p>
                                                <p>
                                                    <input type="text" class="col-md-12 form-control"></p>
                                                <p>
                                                    <input type="text" class="col-md-12 form-control"></p>
                                                <p>
                                                    <input type="text" class="col-md-12 form-control"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close
                                        </button>
                                        <button type="button" class="btn yellow">Ok</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="static" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                            <div class="patazonemodal">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Confirmation</h4>
                                    </div>
                                    <div class="modal-body">
                                        <p> Would you like to continue with some arbitrary task? </p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" data-dismiss="modal" class="btn dark btn-outline">Cancel
                                        </button>
                                        <button type="button" data-dismiss="modal" class="btn green">Continue Task
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="long" class="modal fade modal-scroll" tabindex="-1" data-replace="true">
                            <div class="patazonemodal">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">A Fairly Long Modal</h4>
                                    </div>
                                    <div class="modal-body">
                                        <img style="height: 800px" alt="" src="http://i.imgur.com/KwPYo.jpg"></div>
                                    <div class="modal-footer">
                                        <button type="button" data-dismiss="modal" class="btn dark btn-outline">Close
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="responsive2" class="modal fade" tabindex="-1" data-width="760">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                <h4 class="modal-title">Responsive</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h4>Some Input</h4>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                    </div>
                                    <div class="col-md-6">
                                        <h4>Some More Input</h4>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                        <p>
                                            <input class="form-control" type="text"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" data-dismiss="modal" class="btn btn-outline dark">Close</button>
                                <button type="button" class="btn green">Save changes</button>
                            </div>
                        </div>
                        <div class="modal fade draggable-modal" id="draggable" tabindex="-1" role="basic"
                             aria-hidden="true">
                            <div class=" patazonemodal">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">Start Dragging Here</h4>
                                    </div>
                                    <div class="modal-body"> Modal body goes here</div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn dark btn-outline" data-dismiss="modal">Close
                                        </button>
                                        <button type="button" class="btn green">Save changes</button>
                                    </div>
                                </div>
                                <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                        </div>
                    </div>
                </div>
                <!-- END PORTLET-->
            </div>
        </div>
        <!-- END PAGE BASE CONTENT -->
    </div>
    <!-- END CONTENT BODY -->
</div>

<script src="{% static 'assets/global/plugins/jquery.min.js' %}" type="text/javascript"></script>

<script type="text/javascript">


    function updateCat(event, id){
        event.preventDefault();
        var actionEndpoint = '/cart/details/update/'
        {#var actionEndpoint = '{% url 'cart:update' %}'#}
        var httpMethod = 'POST'
        var data = {
          product_id: id
        }

        {#var point= '{% url 'cart:update' product_id %}'#}
        $.ajax({
            url: actionEndpoint,
            method: httpMethod,
            dataType: 'JSON',
            data: data,
            success: function(data){
                alert("item added successfully")
                console.log(data.product_id)
            },
            error: function(error){
              console.log(error)

            }
        })
    }


</script>

</body>
